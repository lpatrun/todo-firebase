(this["webpackJsonptodos-firebase"]=this["webpackJsonptodos-firebase"]||[]).push([[0],{10:function(e,t,n){e.exports={rowStyling:"TodoTableItem_rowStyling__1L5dL",btnStyling:"TodoTableItem_btnStyling__FyOYX",btnEdit:"TodoTableItem_btnEdit__Cmj6k",btnDelete:"TodoTableItem_btnDelete__ZeMR1",inputStyling:"TodoTableItem_inputStyling__zS_8A",completedStyling:"TodoTableItem_completedStyling__s3PYg"}},12:function(e,t,n){e.exports={heder:"TodoList_heder__1pxTP",center:"TodoList_center__1vmFI",tableClass:"TodoList_tableClass__v1eB3",tableHead:"TodoList_tableHead__3xgnZ",selStyle:"TodoList_selStyle__2Qk7B",selectorStyle:"TodoList_selectorStyle__1C_Wk",formStyle:"TodoList_formStyle__1vkM2",singleInput:"TodoList_singleInput__3f9ky",dateSort:"TodoList_dateSort__3aaCZ"}},16:function(e,t,n){e.exports={homePageStyling:"HomePage_homePageStyling__2EEG4",buttonsContainer:"HomePage_buttonsContainer__VuEnM",signInBtn:"HomePage_signInBtn__1vjJE",signUpBtn:"HomePage_signUpBtn__1eCrZ"}},17:function(e,t,n){e.exports={addTodoForm:"FormComponent_addTodoForm__B0yeG",formInput:"FormComponent_formInput__3o0ar",formButton:"FormComponent_formButton__20aJT"}},18:function(e,t,n){e.exports={singleTodo:"SingleTodo_singleTodo__3ch_0",goHomeBtn:"SingleTodo_goHomeBtn__25JaQ"}},28:function(e,t,n){e.exports={errorPageStyling:"ErrorPage_errorPageStyling__84EOK",goHomeBtn:"ErrorPage_goHomeBtn__2cdL1"}},35:function(e,t,n){e.exports={signInPageStyling:"SignIn_signInPageStyling__1U3QT"}},36:function(e,t,n){e.exports={signUpPageStyling:"SignUp_signUpPageStyling__3SQNE"}},37:function(e,t,n){e.exports={logoutPageStyling:"LogoutPage_logoutPageStyling__2amjx"}},40:function(e,t,n){e.exports=n(56)},45:function(e,t,n){},50:function(e,t,n){},56:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(21),c=n.n(r),l=(n(45),n(2)),i=(n(50),n(3)),u=function(){var e=Object(l.c)((function(e){return e.userReducer.isAuthenticated}));return o.a.createElement("nav",{className:"navigetion"},o.a.createElement("div",null,o.a.createElement(i.c,{exact:!0,to:"/"},"Todo home")),o.a.createElement("div",null,!e&&o.a.createElement(o.a.Fragment,null,o.a.createElement(i.c,{to:"/signin"},"Sign In"),o.a.createElement(i.c,{to:"/signup"},"Sign Up")),e&&o.a.createElement(o.a.Fragment,null,o.a.createElement(i.c,{to:"/todos"},"Todos"),o.a.createElement(i.c,{to:"/logout"},"Logout"))))},s=n(4),d=n(28),m=n.n(d);function p(){return o.a.createElement("div",{className:m.a.errorPageStyling},o.a.createElement("h1",null,"Oops, there is nothing here!"),o.a.createElement("p",null,"If you dont mind, press this button to go back home"),o.a.createElement(i.b,{to:"/"},o.a.createElement("button",{className:m.a.goHomeBtn},"Go home")))}var g={routeProps:{path:"*",component:p},name:p},E=n(16),f=n.n(E);function b(){var e=Object(l.c)((function(e){return e.userReducer.isAuthenticated}));return o.a.createElement("div",{className:f.a.homePageStyling},o.a.createElement("h1",null,"Welcome home"),e?o.a.createElement("p",null,"Click on Todos to see your tasks"):o.a.createElement(o.a.Fragment,null,o.a.createElement("p",null,"To continue, please Sign in or Sign up"),o.a.createElement("div",{className:f.a.buttonsContainer},o.a.createElement(i.b,{to:"/signin"},o.a.createElement("button",{className:f.a.signInBtn},"Sign In")),o.a.createElement(i.b,{to:"/signup"},o.a.createElement("button",{className:f.a.signUpBtn},"Sign Up")))))}var h={routeProps:{path:"/",component:b},name:b},_=n(5),S=n(29),v=n.n(S);n(52);v.a.initializeApp({apiKey:"AIzaSyAIg1BKZ2SR4AVMkbVjcrodDZfajMgoCWc",authDomain:"react-todo-2095c.firebaseapp.com",databaseURL:"https://react-todo-2095c.firebaseio.com",projectId:"react-todo-2095c",storageBucket:"react-todo-2095c.appspot.com",messagingSenderId:"553106365833",appId:"1:553106365833:web:3ff46a8d1a79700d849558",measurementId:"G-74GTF4N6G3"});var y=v.a,T=y.firestore(),O=new Date,j=function(e,t){return{type:"AUTH_START",email:e,password:t}},C={todoActions:{deleteTodo:function(e){return function(){return T.collection("todos").doc(e).delete()}},addTodo:function(e,t){return function(){var n={id:"",title:e,description:t,doc:"".concat(O.getDate(),".").concat(O.getMonth()+1,".").concat(O.getFullYear(),"."),completed:!1};T.collection("todos").add(n)}},saveChanges:function(e,t,n,a,o){return function(){T.collection("todos").doc(e).set({id:e,title:t,description:n,doc:a,completed:o})}},setTodos:function(e){return{type:"SET_TODOS",todos:e}},fetchTodosFailed:function(){return{type:"FETCH_TODOS_FAILED"}}},userActions:{validAuth:function(){return{type:"VALID_AUTH"}},logout:function(){return{type:"LOGOUT"}},authStart:j,authSuccess:function(e){return{type:"AUTH_SUCCESS",authData:e}},authFail:function(e){return{type:"AUTH_FAIL",error:e}},authenticate:function(e,t){return function(n){n(j(e,t))}}}},A=n(35),P=n.n(A);function N(){var e=Object(s.f)(),t=Object(l.b)(),n=Object(a.useState)(""),r=Object(_.a)(n,2),c=r[0],i=r[1],u=Object(a.useState)(""),d=Object(_.a)(u,2),m=d[0],p=d[1];return o.a.createElement("div",{className:P.a.signInPageStyling},o.a.createElement("p",null,"*hint no need to actually sign in, just type in email address and min of 6 letters in password field"),o.a.createElement("form",{onSubmit:function(n){n.preventDefault(),t(C.userActions.validAuth()),t(C.userActions.authenticate(c,m)),e.push("/")}},o.a.createElement("p",null,"Username"),o.a.createElement("input",{type:"email",placeholder:"Email...",value:c,onChange:function(e){return i(e.target.value)}}),o.a.createElement("p",null,"Password"),o.a.createElement("input",{type:"password",placeholder:"Pasword...",value:m,onChange:function(e){return p(e.target.value)},minLength:6}),o.a.createElement("button",{type:"submit"},"Sign in")))}var w={routeProps:{path:"/signin",component:N},name:N},L=n(36),I=n.n(L);function U(){var e=Object(s.f)(),t=Object(l.b)(),n=Object(a.useState)(""),r=Object(_.a)(n,2),c=r[0],i=r[1],u=Object(a.useState)(""),d=Object(_.a)(u,2),m=d[0],p=d[1];return o.a.createElement("div",{className:I.a.signUpPageStyling},o.a.createElement("p",null,"*hint no need to actually sign up, just type in email address and min of 6 letters in password field"),o.a.createElement("form",{onSubmit:function(n){n.preventDefault(),t(C.userActions.validAuth()),e.push("/")}},o.a.createElement("p",null,"Username"),o.a.createElement("input",{type:"email",placeholder:"Your email...",value:c,onChange:function(e){return i(e.target.value)},required:!0}),o.a.createElement("p",null,"Password"),o.a.createElement("input",{type:"password",placeholder:"Select pasword...",value:m,onChange:function(e){return p(e.target.value)},minLength:6,required:!0}),o.a.createElement("button",{type:"submit"},"Sign Up")))}var F={routeProps:{path:"/signup",component:U},name:U},D=n(37),k=n.n(D);function B(){var e=Object(s.f)(),t=Object(l.b)();return o.a.createElement("div",{className:k.a.logoutPageStyling},o.a.createElement("h1",null,"Click button to logout"),o.a.createElement("button",{onClick:function(){t(C.userActions.logout()),e.push("/")}},"Logout"))}var H={routeProps:{path:"/logout",component:B},name:B},x=n(17),R=n.n(x);var G=function(){var e=Object(a.useState)(""),t=Object(_.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(""),i=Object(_.a)(c,2),u=i[0],s=i[1],d=Object(l.b)();return o.a.createElement("form",{onSubmit:function(e){e.preventDefault(),n&&u&&(d(C.todoActions.addTodo(n,u)),r(""),s(""))},className:R.a.addTodoForm},o.a.createElement("input",{type:"text",className:R.a.formInput,onChange:function(e){return r(e.target.value)},value:n,placeholder:"Todo title...",required:!0}),o.a.createElement("input",{type:"text",className:R.a.formInput,onChange:function(e){return s(e.target.value)},value:u,placeholder:"Todo description...",required:!0}),o.a.createElement("button",{className:R.a.formButton,type:"submit"},"Add"))},M=n(10),W=n.n(M);var Z=function(e){var t=Object(a.useState)(!1),n=Object(_.a)(t,2),r=n[0],c=n[1],u=Object(a.useState)(""),s=Object(_.a)(u,2),d=s[0],m=s[1],p=Object(a.useState)(""),g=Object(_.a)(p,2),E=g[0],f=g[1],b=Object(l.b)();return o.a.createElement(o.a.Fragment,null,r?o.a.createElement("tr",{className:W.a.rowStyling},o.a.createElement("td",null,o.a.createElement("input",{className:W.a.inputStyling,value:d,onChange:function(e){return m(e.target.value)}})),o.a.createElement("td",null,o.a.createElement("input",{className:W.a.inputStyling,value:E,onChange:function(e){return f(e.target.value)}})),o.a.createElement("td",null,e.todo.doc),o.a.createElement("td",null,e.todo.completed?"True":"False"),o.a.createElement("td",null,o.a.createElement("button",{onClick:function(){b(C.todoActions.saveChanges(e.todo.id,d,E,e.todo.doc,e.todo.completed)),c(!1)},className:"".concat(W.a.btnStyling," ").concat(W.a.btnEdit)},"Save"))):o.a.createElement("tr",{className:W.a.rowStyling},o.a.createElement("td",null,o.a.createElement(i.b,{to:"/todos/".concat(e.todo.id)},e.todo.title)),o.a.createElement("td",null,e.todo.description),o.a.createElement("td",null,e.todo.doc),o.a.createElement("td",{className:W.a.completedStyling,onClick:function(){b(C.todoActions.saveChanges(e.todo.id,e.todo.title,e.todo.description,e.todo.doc,!e.todo.completed))}},e.todo.completed?"True":"False"),o.a.createElement("td",null,o.a.createElement("button",{onClick:function(){m(e.todo.title),f(e.todo.description),c(!0)},className:"".concat(W.a.btnStyling," ").concat(W.a.btnEdit)},"Edit"),o.a.createElement("button",{onClick:function(){b(C.todoActions.deleteTodo(e.todo.id))},className:"".concat(W.a.btnStyling," ").concat(W.a.btnDelete)},"Delete"))))},J=n(12),V=n.n(J);function q(){var e=Object(l.b)();Object(a.useEffect)((function(){return y.firestore().collection("todos").onSnapshot((function(t){var n=[];t.forEach((function(e){return n.push({title:e.data().title,id:e.id,description:e.data().description,doc:e.data().doc,completed:e.data().completed})})),e(C.todoActions.setTodos(n))}))}),[e]);var t=Object(l.c)((function(e){return e.todoReducer.todos})),n=Object(a.useState)("all"),r=Object(_.a)(n,2),c=r[0],i=r[1],u=Object(a.useState)(""),s=Object(_.a)(u,2),d=s[0],m=s[1],p=Object(a.useState)({fn:function(e){return e}}),g=Object(_.a)(p,2),E=g[0],f=g[1],b=Object(a.useState)(""),h=Object(_.a)(b,2),S=h[0],v=h[1],T=function(e,t){m(e),i(t),f({fn:function(n){return"all"!==t||e?"all"===t&&e?n.filter((function(t){return t.title.toLowerCase().includes(e.trim().toLowerCase())||t.description.toLowerCase().includes(e.trim().toLowerCase())})):"active"!==t||e?"active"===t&&e?n.filter((function(t){return(t.title.toLowerCase().includes(e.trim().toLowerCase())||t.description.toLowerCase().includes(e.trim().toLowerCase()))&&!1===t.completed})):"finished"!==t||e?n.filter((function(t){return(t.title.toLowerCase().includes(e.trim().toLowerCase())||t.description.toLowerCase().includes(e.trim().toLowerCase()))&&!0===t.completed})):n.filter((function(e){return!0===e.completed})):n.filter((function(e){return!1===e.completed})):n}})},O=function(){return j(E.fn(t))},j=function(e){return""===S?e:e.sort((function(e,t){var n=e.doc.split(".").reverse().join(),a=t.doc.split(".").reverse().join();return"asc"===S?n<a?-1:n>a?1:0:n>a?-1:n<a?1:0}))};return o.a.createElement("div",{className:V.a.center},o.a.createElement("header",{className:V.a.heder},o.a.createElement("h1",null,"Todo's list")),o.a.createElement(G,null),o.a.createElement("form",{className:V.a.formStyle,onSubmit:function(e){e.preventDefault()}},o.a.createElement("input",{className:V.a.singleInput,type:"text",onChange:function(e){T(e.target.value,c)},placeholder:"Search..."}),o.a.createElement("div",{className:V.a.selStyle},o.a.createElement("select",{name:"todos",className:V.a.selectorStyle,onChange:function(e){T(d,e.target.value)}},o.a.createElement("option",{value:"all"},"All"),o.a.createElement("option",{value:"active"},"Active"),o.a.createElement("option",{value:"finished"},"Finished")))),o.a.createElement("table",{className:V.a.tableClass},o.a.createElement("thead",{className:V.a.tableHead},o.a.createElement("tr",null,o.a.createElement("th",null,"Title"),o.a.createElement("th",null,"Description"),o.a.createElement("th",{className:V.a.dateSort,onClick:function(){return v("asc"===S?"desc":"asc")}},"Date"),o.a.createElement("th",null,"Completed"),o.a.createElement("th",null,"Actions"))),o.a.createElement("tbody",null,O().length?O().map((function(e){return o.a.createElement(Z,{todo:e,key:e.id})})):o.a.createElement("tr",null,o.a.createElement("td",{colSpan:4},"No todos yet")))))}var Q={routeProps:{path:"/todos",component:q},name:q},Y=n(18),z=n.n(Y);function K(){var e=Object(s.g)().todo_id,t=Object(l.c)((function(t){return t.todoReducer.todos.find((function(t){return t.id===e}))}));return o.a.createElement(o.a.Fragment,null,t?o.a.createElement("section",{className:z.a.singleTodo},o.a.createElement("h1",null,"Todo"),o.a.createElement("p",null,"Title: ",t.title),o.a.createElement("p",null,"Description: ",t.description),o.a.createElement("p",null,"Date: ",t.doc),o.a.createElement("p",null,"Completion: ",t.completed?"Finished":"Not Finished"),o.a.createElement(i.b,{to:"/todos"},o.a.createElement("button",{className:z.a.goHomeBtn},"Go back"))):o.a.createElement("section",{className:z.a.singleTodo},o.a.createElement("h1",null,"Uuuups, we have lost that todo"),o.a.createElement(i.b,{to:"/"},o.a.createElement("button",{className:z.a.goHomeBtn},"Go home"))))}var X={routeProps:{path:"/todos/:todo_id",component:K},name:K},$=function(){var e=Object(l.c)((function(e){return e.userReducer.isAuthenticated}));return o.a.createElement(s.c,null,o.a.createElement(s.a,Object.assign({exact:!0},h.routeProps)),!e&&o.a.createElement(s.a,w.routeProps),!e&&o.a.createElement(s.a,F.routeProps),e&&o.a.createElement(s.a,X.routeProps),e&&o.a.createElement(s.a,Q.routeProps),e&&o.a.createElement(s.a,H.routeProps),o.a.createElement(s.a,g.routeProps))};var ee=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(u,null),o.a.createElement($,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var te=n(13),ne=n(38),ae=n(39),oe=n(11),re={todos:[]},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TODOS":return Object(oe.a)(Object(oe.a)({},e),{},{todos:t.todos});default:return e}},le={isAuthenticated:!1},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"VALID_AUTH":return Object(oe.a)(Object(oe.a)({},e),{},{isAuthenticated:!0});case"LOGOUT":return Object(oe.a)(Object(oe.a)({},e),{},{isAuthenticated:!1});case"AUTH_START":return Object(oe.a)({},e);case"AUTH_SUCCESS":return console.log("Auth success"),Object(oe.a)({},e);case"AUTH_FAIL":return console.log("auth fail"),Object(oe.a)({},e);default:return e}},ue=Object(te.combineReducers)({todoReducer:ce,userReducer:ie}),se=Object(te.createStore)(ue,Object(ne.composeWithDevTools)(Object(te.applyMiddleware)(ae.a)));c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(l.a,{store:se},o.a.createElement(i.a,null,o.a.createElement(ee,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[40,1,2]]]);
//# sourceMappingURL=main.a54845cf.chunk.js.map